<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Receipt - Newton Smart Home</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
        :root {
            --bg: #eef2ff;
            /* soft indigo background */
            --paper: var(--bg-paper);
            --primary: var(--bg-main);
            /* deep navy, not black */
            --accent: #1d4ed8;
            /* Newton neural blue */
            --accent-soft: rgba(37, 99, 235, 0.06);
            --accent-cyan: #22d3ee;
            --border-soft: #e5e7eb;
            --text-main: var(--text-main);
            --text-muted: #6b7280;
        }

        * {
            box-sizing: border-box;
        }

        @page {
            size: A4;
            margin: 12mm 10mm;
        }

        body {
            margin: 0;
            padding: 32px 16px;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background:
                radial-gradient(circle at 0% 0%, rgba(37, 99, 235, 0.12), transparent 55%),
                radial-gradient(circle at 100% 100%, rgba(56, 189, 248, 0.14), transparent 55%),
                var(--bg);
            color: var(--text-main);
        }

        .page {
            max-width: 960px;
            margin: 0 auto;
            background: linear-gradient(135deg, var(--bg-paper), var(--bg-panel));
            border-radius: 24px;
            border: 1px solid rgba(148, 163, 184, 0.35);
            box-shadow: 0 28px 70px rgba(15, 23, 42, 0.18);
            padding: 30px 32px 34px;
        }

        .page-break {
            page-break-before: always;
        }


        @media print {
            body {
                background: var(--bg-paper);
                padding: 0;
            }

            .page {
                box-shadow: none;
                border-radius: 0;
                border: none;
                width: 100%;
                max-width: none;
                padding: 20px;
            }
        }

        .header {
            display: flex;
            justify-content: space-between;
            gap: 24px;
            border-bottom: 1px solid var(--border-soft);
            padding-bottom: 18px;
            margin-bottom: 20px;
        }

        .brand {
            max-width: 65%;
        }

        .brand-title {
            font-size: 22px;
            font-weight: 700;
            letter-spacing: .16em;
            text-transform: uppercase;
            color: var(--primary);
        }

        .brand-sub {
            margin-top: 6px;
            font-size: 13px;
            color: var(--text-muted);
        }

        .brand-contact {
            margin-top: 10px;
            font-size: 11px;
            color: var(--text-muted);
            line-height: 1.6;
        }

        .logo-wrapper {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 10px;
            justify-content: center;
        }

        /* logo size in px based on 1.58" x 0.78" */
        .logo-placeholder {
            width: 152px;
            height: 75px;
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #1f2937;
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: .12em;
        }

        .meta-bar {
            display: flex;
            justify-content: space-between;
            gap: 16px;
            margin-bottom: 20px;
        }

        .meta-title-block {
            max-width: 60%;
        }

        .badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 10px;
            border-radius: 999px;
            border: 1px solid rgba(37, 99, 235, 0.4);
            background: var(--accent-soft);
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: .18em;
            color: var(--accent);
        }

        .badge-dot {
            width: 6px;
            height: 6px;
            border-radius: 999px;
            background: radial-gradient(circle, var(--accent-cyan), transparent 60%);
            box-shadow: 0 0 0 1px rgba(129, 140, 248, 0.6);
        }

        .meta-title-block h1 {
            margin: 6px 0 2px;
            font-size: 19px;
            letter-spacing: .16em;
            text-transform: uppercase;
        }

        .meta-title-block p {
            margin: 2px 0 0;
            font-size: 12px;
            color: var(--text-muted);
        }

        .meta-table {
            border-collapse: collapse;
            font-size: 11px;
            margin-left: auto;
        }

        .meta-table td {
            padding: 2px 0 2px 18px;
            white-space: nowrap;
        }

        .meta-table .label {
            color: var(--text-muted);
            text-align: right;
        }

        .meta-table .value {
            font-weight: 500;
            text-align: left;
        }

        .section {
            margin-bottom: 20px;
        }

        .section-label {
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: .18em;
            color: var(--text-muted);
            margin-bottom: 6px;
        }

        .bill-grid {
            display: flex;
            gap: 24px;
            flex-wrap: wrap;
        }

        .bill-card {
            flex: 1 1 260px;
            border-radius: 16px;
            border: 1px solid var(--border-soft);
            padding: 12px 14px;
            background: linear-gradient(135deg, var(--bg-paper), var(--bg-main));
        }

        .bill-label {
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: .16em;
            color: var(--text-muted);
            margin-bottom: 4px;
        }

        .bill-name {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .bill-text {
            font-size: 11px;
            color: var(--text-muted);
            line-height: 1.6;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 12px;
        }

        .items-table {
            margin-top: 6px;
            border-radius: 18px;
            overflow: hidden;
            border: 1px solid var(--border-soft);
            background: var(--bg-paper);
        }

        .items-table thead {
            background: linear-gradient(90deg, #1d4ed8, #2563eb);
            color: #e5f0ff;
        }

        .items-table th {
            padding: 9px 10px;
            text-align: left;
            font-weight: 500;
        }

        .items-table th.image {
            width: 160px;
            text-align: center;
        }

        .items-table th.warranty {
            width: 120px;
            text-align: center;
        }

        .items-table th.qty,
        .items-table th.price,
        .items-table th.total {
            text-align: right;
            width: 90px;
        }

        .items-table td {
            padding: 8px 10px;
            border-bottom: 1px solid var(--border-soft);
            color: var(--text-main);
            vertical-align: middle;
        }

        .items-table tr:nth-child(even) td {
            background: #f3f4ff;
        }

        .items-table tr:last-child td {
            border-bottom: none;
        }

        .items-table td.image {
            text-align: center;
            white-space: nowrap;
        }

        .items-table td.warranty {
            text-align: center;
            font-size: 11px;
            white-space: nowrap;
        }

        .items-table td.qty,
        .items-table td.price,
        .items-table td.total {
            text-align: right;
            white-space: nowrap;
        }

        .item-image-slot {
            width: 152px;
            /* 1.58" */
            height: 75px;
            /* 0.78" */
            border-radius: 14px;
            border: 1px dashed rgba(148, 163, 184, 0.9);
            background:
                radial-gradient(circle at 0% 0%, rgba(37, 99, 235, 0.18), transparent 60%),
                radial-gradient(circle at 100% 100%, rgba(191, 219, 254, 0.6), transparent 60%),
                #eff6ff;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            color: #1f2937;
            text-transform: uppercase;
            letter-spacing: .10em;
        }

        .items-note {
            font-size: 11px;
            color: var(--text-muted);
            margin-top: 8px;
        }

        .totals-area {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 16px;
            margin-top: 14px;
            flex-wrap: wrap;
        }

        .account-card-inline {
            flex: 1 1 260px;
        }

        .account-table-inline {
            width: 100%;
            border-collapse: collapse;
            border-radius: 18px;
            overflow: hidden;
            border: 1px solid var(--border-soft);
            background: var(--bg-paper);
            font-size: 11px;
        }

        .account-table-inline thead {
            background: linear-gradient(90deg, #1d4ed8, #2563eb);
            color: #e5f0ff;
        }

        .account-table-inline th {
            padding: 7px 10px;
            text-align: left;
            font-weight: 500;
            letter-spacing: .12em;
            text-transform: uppercase;
            font-size: 10px;
        }

        .account-table-inline td {
            padding: 7px 10px;
            border-top: 1px solid var(--border-soft);
        }

        .account-table-inline td.label {
            width: 40%;
            font-weight: 600;
        }

        .account-table-inline td.value {
            width: 60%;
        }

        .totals-card {
            min-width: 280px;
            border-radius: 18px;
            border: 1px solid var(--border-soft);
            padding: 12px 16px 10px;
            background: linear-gradient(135deg, var(--bg-paper), var(--accent-cyan));
            box-shadow: 0 14px 34px rgba(15, 23, 42, 0.18);
        }

        .totals-row {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            margin-bottom: 4px;
        }

        .totals-row.label {
            color: var(--text-muted);
        }

        .totals-row.total {
            margin-top: 6px;
            padding-top: 8px;
            border-top: 1px solid #cbd5f5;
            font-weight: 600;
            font-size: 13px;
        }

        .totals-row.total .value {
            color: var(--accent);
        }

        .info-grid {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
            margin-top: 14px;
        }

        .info-card {
            flex: 1 1 260px;
            border-radius: 14px;
            border: 1px dashed var(--border-soft);
            padding: 11px 13px;
            background: #f9fafb;
        }

        .info-card h4 {
            margin: 0 0 4px;
            font-size: 12px;
        }

        .info-card p {
            margin: 0;
            font-size: 11px;
            color: var(--text-muted);
            line-height: 1.7;
        }

        .account-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 4px;
            font-size: 11px;
        }

        .account-table th {
            background: #64748b;
            color: #f9fafb;
            padding: 6px 8px;
            text-align: center;
            letter-spacing: .16em;
            text-transform: uppercase;
            font-size: 11px;
        }

        .account-table td {
            padding: 6px 8px;
            border-top: 1px solid #cbd5f5;
            text-align: left;
        }

        .account-table td.label {
            width: 40%;
            font-weight: 600;
        }

        .account-table td.value {
            width: 60%;
        }

        .signature-row {
            display: flex;
            justify-content: space-between;
            gap: 26px;
            margin-top: 26px;
            font-size: 11px;
            align-items: flex-end;
        }

        .sig-block {
            flex: 1 1 260px;
            position: relative;
            min-height: 120px;
        }

        .sig-label {
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: .18em;
            color: var(--text-muted);
            margin-bottom: 40px;
            border-bottom: 1px solid var(--border-soft);
            padding-bottom: 26px;
        }

        .sig-name {
            font-weight: 600;
            margin-top: 4px;
        }

        .sig-role {
            color: var(--text-muted);
            margin-top: 2px;
        }

        .sig-stamp {
            position: absolute;
            left: 0;
            bottom: 18px;
        }

        .sig-stamp img {
            max-width: 160px;
            height: auto;
            opacity: 0.95;
        }

        .footer-note {
            margin-top: 22px;
            font-size: 10px;
            color: var(--text-muted);
            text-align: center;
        }
    </style>
</head>

<body>
    <div class="page">
        <div class="header">
            <div class="brand">
                <div class="brand-title">Newton Smart Home</div>
                <div class="brand-sub">UAE – Abu Dhabi - Mussafa M1</div>
                <div class="brand-contact">
                    Supply and installation of smart home systems, security systems, and surveillance cameras.<br />
                    www.newtonsmarthome.com · +971 52 779 0975 · info@newtonsmarthome.com ·
                </div>
            </div>
            <div class="logo-wrapper">
                <div class="logo-placeholder">
                    <img src="" alt="Newton Smart Home Logo" style="width: 140%; height: 500%; object-fit: contain;" />
                </div>
            </div>
        </div>

        <div class="meta-bar">
            <div class="meta-title-block">
                <div class="badge">
                    <span class="badge-dot"></span>
                    <span>Receipt</span>
                </div>
                <h1>Payment Receipt</h1>
                <p>
                    This receipt confirms payment for Newton Smart Home solutions for the
                    individual client below.
                </p>
            </div>
            <table class="meta-table">
                <tr>
                    <td class="label">Quotation No.</td>
                    <td class="value">{{ quotation_number }}</td>
                </tr>
                <tr>
                    <td class="label">Date</td>
                    <td class="value">{{ quotation_date }}</td>
                </tr>
                <tr>
                    <td class="label">Status</td>
                    <td class="value">Approved</td>
                </tr>
            </table>
        </div>

        <div class="section">
            <div class="section-label">Parties</div>
            <div class="bill-grid">
                <div class="bill-card">
                    <div class="bill-label">Client info</div>
                    <div class="bill-name">{{ client_name }}</div>
                    <div class="bill-text">
                        Mobile: {{ mobile }}<br />
                        Location: {{ project_location }}<br />
                    </div>
                </div>
                <div class="bill-card">
                    <div class="bill-label">Project Details</div>
                    <div class="bill-name">Project Title</div>
                    <div class="bill-text">
                        {{ project_scope }}.
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-label">Quotation Details</div>
            <table class="items-table">
                <thead>
                    <tr>
                        <th class="image">Proudct/Device</th>
                        <th>Description</th>
                        <th class="warranty">Warranty</th>
                        <th class="qty">Qty</th>
                        <th class="price">Unit Price</th>
                        <th class="total">Amount</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in items %}
                    <tr>
                        <td class="image">
                            <div class="item-image-slot">
                                {% if item.image %}
                                <img src="{{ item.image }}" alt="{{ item.description }}"
                                    style="max-width:100%;max-height:100%;object-fit:contain;" />
                                {% else %}
                                IMAGE
                                {% endif %}
                            </div>
                        </td>
                        <td>{{ item.description }}</td>
                        <td class="warranty">{{ item.warranty }}</td>
                        <td class="qty">{{ item.qty }}</td>
                        <td class="price">{{ item.unit_price }}</td>
                        <td class="total">{{ item.total }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            <div class="totals-area">
                <div class="account-card-inline">
                    <table class="account-table-inline">
                        <thead>
                            <tr>
                                <th colspan="2">Account Details</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="label">Bank Name</td>
                                <td class="value">Al Maryah Community Bank LLC</td>
                            </tr>
                            <tr>
                                <td class="label">Account No</td>
                                <td class="value">3003140080000000</td>
                            </tr>
                            <tr>
                                <td class="label">IBAN</td>
                                <td class="value">AE830973003140080000001</td>
                            </tr>
                            <tr>
                                <td class="label">Company Name</td>
                                <td class="value">Newton Smart Home</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="totals-card">
                    <div class="totals-row label">
                        <span>Total Invoice Amount</span>
                        <span class="value">{{ total_invoice_amount | currency }}</span>
                    </div>
                    <div class="totals-row label">
                        <span>Amount Paid</span>
                        <span class="value">{{ amount_paid | currency }}</span>
                    </div>
                    <div class="totals-row label">
                        <span>Payment Method</span>
                        <span class="value">{{ payment_method }}</span>
                    </div>
                    <div class="totals-row label">
                        <span>Payment Date</span>
                        <span class="value">{{ payment_date }}</span>
                    </div>
                    <div class="totals-row total">
                        <span>Remaining Balance</span>
                        <span class="value">{{ remaining_balance | currency }}</span>
                    </div>
                </div>
            </div>

            <div class="page-break"></div>

            <div class="section">
                <div class="section-label"></div>
                <div class="info-grid">
                    <div class="info-card">
                        <h4>Warranty</h4>
                        <p>
                            All Newton Smart Home equipment supplied under this quotation is covered by a
                            standard 12-month warranty against manufacturing defects from the date of handover,
                            provided that the system is used as intended and maintained properly.
                        </p>
                    </div>
                    <div class="info-card">
                        <h4>Payment Terms</h4>
                        <p>
                            Newton Smart Home is committed to clear, transparent and flexible payment arrangements.
                            The payment schedule will be agreed with you before work starts and aligned with project
                            milestones,
                            so you always know what is due and when, with no hidden charges.
                        </p>
                    </div>
                </div>
            </div>

            <div class="signature-row">
                <div class="sig-block">
                    <div class="sig-label">For Newton Smart Home</div>
                    <div class="sig-stamp">
                        <img src="" alt="Newton Smart Home Stamp and Signature" />
                    </div>
                    <div class="sig-name">Authorised Signatory</div>
                    <div class="sig-role">Newton Smart Home</div>
                </div>
                <div class="sig-block">
                    <div class="sig-label">For Client</div>
                    <div class="sig-name">Client Name</div>
                    <div class="sig-role">Signature</div>
                </div>
            </div>

            <div class="footer-note">
                This quotation is issued by Newton Smart Home for the above-mentioned individual client.
                For any questions, please contact us at info@newtonsmarthome.com.
            </div>
        </div>
</body>

</html>